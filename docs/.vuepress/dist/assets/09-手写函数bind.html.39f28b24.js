import{_ as n,c as s}from"./app.1c29f384.js";const a={},p=s(`<h1 id="\u624B\u5199\u51FD\u6570-bind" tabindex="-1"><a class="header-anchor" href="#\u624B\u5199\u51FD\u6570-bind" aria-hidden="true">#</a> \u624B\u5199\u51FD\u6570 bind</h1><h2 id="\u9898\u76EE" tabindex="-1"><a class="header-anchor" href="#\u9898\u76EE" aria-hidden="true">#</a> \u9898\u76EE</h2><p>\u8BF7\u624B\u5199\u5B9E\u73B0\u51FD\u6570 bind</p><h2 id="bind-\u5E94\u7528" tabindex="-1"><a class="header-anchor" href="#bind-\u5E94\u7528" aria-hidden="true">#</a> bind \u5E94\u7528</h2><ul><li>\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u51FD\u6570\uFF08\u65E7\u51FD\u6570\u4E0D\u4F1A\u66F4\u6539\uFF09</li><li>\u7ED1\u5B9A <code>this</code> \u548C\u90E8\u5206\u53C2\u6570</li><li>\u7BAD\u5934\u51FD\u6570\uFF0C\u65E0\u6CD5\u6539\u53D8 <code>this</code> \uFF0C\u53EA\u80FD\u6539\u53D8\u53C2\u6570</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> fn1 <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment">// {x: 100} 10 20 30</span>
<span class="token keyword">const</span> fn2 <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment">// {x: 100} 1 2 10 \uFF08\u6CE8\u610F\u7B2C\u4E09\u4E2A\u53C2\u6570\u53D8\u6210\u4E86 10\uFF09</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment">// window 10 20 30 \uFF08\u65E7\u51FD\u6570\u4E0D\u53D8\uFF09</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u89E3\u7B54" tabindex="-1"><a class="header-anchor" href="#\u89E3\u7B54" aria-hidden="true">#</a> \u89E3\u7B54</h2><p>\u4EE3\u7801\u53C2\u8003 bind.ts</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span> \u624B\u5199 bind
 * <span class="token keyword">@author</span> \u53CC\u8D8A\u8001\u5E08
 */</span>

<span class="token comment">// @ts-ignore</span>
<span class="token builtin">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">customBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>context<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token operator">...</span>bindArgs<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// context \u662F bind \u4F20\u5165\u7684 this</span>
    <span class="token comment">// bindArgs \u662F bind \u4F20\u5165\u7684\u5404\u4E2A\u53C2\u6570</span>

    <span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">// \u5F53\u524D\u7684\u51FD\u6570\u672C\u8EAB</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u62FC\u63A5\u53C2\u6570</span>
        <span class="token keyword">const</span> newArgs <span class="token operator">=</span> bindArgs<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token function">self</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> newArgs<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// // \u529F\u80FD\u6D4B\u8BD5</span>
<span class="token comment">// function fn(this: any, a: any, b: any, c: any) {</span>
<span class="token comment">//     console.info(this, a, b, c)</span>
<span class="token comment">// }</span>
<span class="token comment">// // @ts-ignore</span>
<span class="token comment">// const fn1 = fn.customBind({x: 100}, 10)</span>
<span class="token comment">// fn1(20, 30)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8981\u70B9</p><ul><li>\u8FD4\u56DE\u65B0\u51FD\u6570</li><li>\u62FC\u63A5\u53C2\u6570\uFF08bind \u53C2\u6570 + \u6267\u884C\u53C2\u6570\uFF09</li><li>\u91CD\u65B0\u7ED1\u5B9A <code>this</code></li></ul><h2 id="\u8FDE\u73AF\u95EE-\u624B\u5199\u51FD\u6570-call-\u548C-apply" tabindex="-1"><a class="header-anchor" href="#\u8FDE\u73AF\u95EE-\u624B\u5199\u51FD\u6570-call-\u548C-apply" aria-hidden="true">#</a> \u8FDE\u73AF\u95EE\uFF1A\u624B\u5199\u51FD\u6570 call \u548C apply</h2><p><code>bind</code> \u751F\u6210\u65B0\u51FD\u6570\uFF0C\u6682\u4E0D\u6267\u884C\u3002\u800C <code>call</code> <code>apply</code> \u4F1A\u76F4\u63A5\u7ACB\u5373\u6267\u884C\u51FD\u6570</p><ul><li>\u91CD\u65B0\u7ED1\u5B9A <code>this</code> \uFF08\u7BAD\u5934\u51FD\u6570\u4E0D\u652F\u6301\uFF09</li><li>\u4F20\u5165\u53C2\u6570</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4EE3\u7801\u53C2\u8003 call-apply.ts</p><ul><li>\u4F7F\u7528 <code>obj.fn</code> \u6267\u884C\uFF0C\u5373\u53EF\u8BBE\u7F6E <code>fn</code> \u6267\u884C\u65F6\u7684 <code>this</code></li><li>\u8003\u8651 <code>context</code> \u5404\u79CD\u60C5\u51B5</li><li>\u4F7F\u7528 <code>symbol</code> \u7C7B\u578B\u6269\u5C55\u5C5E\u6027</li></ul><p>\u6CE8\u610F\uFF1A\u6709\u4E9B\u540C\u5B66\u7528 <code>call</code> \u6765\u5B9E\u73B0 <code>apply</code> \uFF08\u53CD\u4E4B\u4EA6\u7136\uFF09\uFF0C\u8FD9\u6837\u662F\u4E0D\u7B26\u5408\u9762\u8BD5\u5B98\u671F\u5F85\u7684\u3002</p>`,18);function t(e,c){return p}var l=n(a,[["render",t],["__file","09-\u624B\u5199\u51FD\u6570bind.html.vue"]]);export{l as default};
