import{_ as o,r as c,o as p,a as i,b as n,e,F as l,c as t,d as s}from"./app.1c29f384.js";const r={},d=t(`<h1 id="\u7F51\u9875\u591A\u6807\u7B7E\u9875\u4E4B\u95F4\u7684\u901A\u8BAF" tabindex="-1"><a class="header-anchor" href="#\u7F51\u9875\u591A\u6807\u7B7E\u9875\u4E4B\u95F4\u7684\u901A\u8BAF" aria-hidden="true">#</a> \u7F51\u9875\u591A\u6807\u7B7E\u9875\u4E4B\u95F4\u7684\u901A\u8BAF</h1><h2 id="\u9898\u76EE" tabindex="-1"><a class="header-anchor" href="#\u9898\u76EE" aria-hidden="true">#</a> \u9898\u76EE</h2><p>\u7F51\u7EDC\u591A\u6807\u7B7E\u4E4B\u95F4\u5982\u4F55\u901A\u8BAF\uFF1F<br> \u4F8B\u5982\u6253\u5F00\u4E24\u4E2A chrome \u6807\u7B7E\uFF0C\u4E00\u4E2A\u8BBF\u95EE\u5217\u8868\u9875\uFF0C\u4E00\u4E2A\u8BBF\u95EE\u8BE6\u60C5\u9875\u3002\u5728\u8BE6\u60C5\u9875\u4FEE\u6539\u4E86\u6807\u9898\uFF0C\u5217\u8868\u9875\u4E5F\u8981\u540C\u6B65\u8FC7\u6765\u3002</p><h2 id="websocket" tabindex="-1"><a class="header-anchor" href="#websocket" aria-hidden="true">#</a> webSocket</h2><p>\u901A\u8FC7 webSocket \u591A\u9875\u9762\u901A\u8BAF\uFF0C\u65E0\u8DE8\u57DF\u9650\u5236\u3002</p><h2 id="localstorage" tabindex="-1"><a class="header-anchor" href="#localstorage" aria-hidden="true">#</a> localStorage</h2><p>\u540C\u57DF\u7684\u4E24\u4E2A\u9875\u9762\uFF0C\u53EF\u4EE5\u901A\u8FC7 localStorage \u901A\u8BAF\u3002A \u9875\u9762\u53EF\u4EE5\u76D1\u542C\u5230 B \u9875\u9762\u7684\u6570\u636E\u53D8\u5316\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// list \u9875\u9762</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;storage&#39;</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;key&#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>key<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;newValue&#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>newValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// detail \u9875\u9762</span>
localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&#39;changeInfo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;xxx&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="sharedworker" tabindex="-1"><a class="header-anchor" href="#sharedworker" aria-hidden="true">#</a> SharedWorker</h2><p>Javascript \u662F\u5355\u7EBF\u7A0B\u7684\uFF0C\u800C\u4E14\u548C\u9875\u9762\u6E32\u67D3\u7EBF\u7A0B\u4E92\u65A5\u3002\u6240\u4EE5\uFF0C\u4E00\u4E9B\u8BA1\u7B97\u91CF\u5927\u7684\u64CD\u4F5C\u4F1A\u5F71\u54CD\u9875\u9762\u6E32\u67D3\u3002<br></p>`,10),u={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Workers_API/Using_web_workers",target:"_blank",rel:"noopener noreferrer"},k=s("WebWorker"),h=s(" \u53EF\u4EE5 "),_=n("code",null,"new Worker('xxx.js')",-1),v=s(" \u7528\u6765\u8FDB\u884C JS \u8BA1\u7B97\uFF0C\u5E76\u901A\u8FC7 "),m=n("code",null,"postMessage",-1),g=s(" \u548C "),b=n("code",null,"onmessage",-1),f=s(" \u548C\u7F51\u9875\u901A\u8BAF\u3002"),w=n("br",null,null,-1),x=s(" \u4F46\u8FD9\u4E2A worker \u662F\u5F53\u524D\u9875\u9762\u4E13\u6709\u7684\uFF0C\u4E0D\u5F97\u591A\u4E2A\u9875\u9762\u3001iframe \u5171\u4EAB\u3002"),W=n("p",null,"PS\uFF1AWebWorker \u4E13\u7528\u4E8E JS \u8BA1\u7B97\uFF0C\u4E0D\u652F\u6301 DOM \u64CD\u4F5C\u3002",-1),S={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/SharedWorker",target:"_blank",rel:"noopener noreferrer"},j=s("SharedWorker"),I=s(" \u53EF\u4EE5\u88AB\u540C\u57DF\u7684\u591A\u4E2A\u9875\u9762\u5171\u4EAB\u4F7F\u7528\uFF0C\u4E5F\u53EF\u4EE5\u7528\u4E8E\u901A\u8BAF\u3002"),M=n("br",null,null,-1),N=s(" \u6E90\u7801\u53C2\u8003 msg-sharedWork-list.html \u548C msg-sharedWork-detail.html \u3002\u6CE8\u610F\uFF0Cworker \u4E2D\u7684\u65E5\u5FD7\u9700\u8981 "),z=n("code",null,"chrome://inspect",-1),E=s(" \u4E2D\u6253\u5F00\u63A7\u5236\u53F0\u67E5\u770B\u3002"),P=n("p",null,"PS\uFF1A\u6CE8\u610F\u6D4F\u89C8\u5668\u517C\u5BB9\u6027\uFF0C\u4E0D\u652F\u6301 IE11",-1),V=n("h2",{id:"\u7B54\u6848",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u7B54\u6848","aria-hidden":"true"},"#"),s(" \u7B54\u6848")],-1),A=n("ul",null,[n("li",null,"webSocket \u9700\u8981\u670D\u52A1\u7AEF\u53C2\u4E0E\uFF0C\u4F46\u4E0D\u9650\u5236\u8DE8\u57DF"),n("li",null,"localStorage \u7B80\u5355\u6613\u7528"),n("li",null,"SharedWorker \u672C\u5730\u8C03\u8BD5\u4E0D\u592A\u65B9\u4FBF\uFF0C\u8003\u8651\u6D4F\u89C8\u5668\u517C\u5BB9\u6027")],-1),B=n("h2",{id:"\u8FDE\u73AF\u95EE-iframe-\u901A\u8BAF",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u8FDE\u73AF\u95EE-iframe-\u901A\u8BAF","aria-hidden":"true"},"#"),s(" \u8FDE\u73AF\u95EE\uFF1Aiframe \u901A\u8BAF")],-1),C=s("\u9664\u4E86\u4E0A\u8FF0\u51E0\u4E2A\u65B9\u6CD5\uFF0Ciframe \u901A\u8BAF\u6700\u5E38\u7528 "),L={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/postMessage",target:"_blank",rel:"noopener noreferrer"},J=s("window.postMessage"),y=s(" \uFF0C\u652F\u6301\u8DE8\u57DF\u3002"),F=t(`<p>\u901A\u8FC7 <code>window.postMessage</code> \u53D1\u9001\u6D88\u606F\u3002\u6CE8\u610F\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF0C\u53EF\u4EE5\u9650\u5236\u57DF\u540D\uFF0C\u5982\u53D1\u9001\u654F\u611F\u4FE1\u606F\uFF0C\u8981\u9650\u5236\u57DF\u540D\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7236\u9875\u9762\u5411 iframe \u53D1\u9001\u6D88\u606F</span>
window<span class="token punctuation">.</span>iframe1<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// iframe \u5411\u7236\u9875\u9762\u53D1\u9001\u6D88\u606F</span>
window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u76D1\u542C <code>message</code> \u6765\u63A5\u6536\u6D88\u606F\u3002\u53EF\u4F7F\u7528 <code>event.origin</code> \u6765\u5224\u65AD\u4FE1\u606F\u6765\u6E90\u662F\u5426\u5408\u6CD5\uFF0C\u53EF\u9009\u62E9\u4E0D\u63A5\u53D7\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;origin&#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>origin<span class="token punctuation">)</span> <span class="token comment">// \u901A\u8FC7 origin \u5224\u65AD\u662F\u5426\u6765\u6E90\u5408\u6CD5</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;child received&#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function D(O,T){const a=c("ExternalLinkIcon");return p(),i(l,null,[d,n("p",null,[n("a",u,[k,e(a)]),h,_,v,m,g,b,f,w,x]),W,n("p",null,[n("a",S,[j,e(a)]),I,M,N,z,E]),P,V,A,B,n("p",null,[C,n("a",L,[J,e(a)]),y]),F],64)}var q=o(r,[["render",D],["__file","10-\u7F51\u9875\u591A\u6807\u7B7E\u901A\u8BAF.html.vue"]]);export{q as default};
