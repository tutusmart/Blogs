import{_ as a,r as c,o as t,a as d,b as e,e as s,F as r,c as l,d as o}from"./app.1c29f384.js";var n="/../../assets/cookie.6632d7cb.png",h="/../../assets/token.d2cdd7d3.png",k="/../../assets/sso.1529b7cc.png";const p={},u=l('<h1 id="cookie-\u548C-token-\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#cookie-\u548C-token-\u533A\u522B" aria-hidden="true">#</a> cookie \u548C token \u533A\u522B</h1><h2 id="\u9898\u76EE" tabindex="-1"><a class="header-anchor" href="#\u9898\u76EE" aria-hidden="true">#</a> \u9898\u76EE</h2><p>cookie \u548C token \u6709\u4F55\u533A\u522B</p><h2 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie" aria-hidden="true">#</a> cookie</h2><p>http \u8BF7\u6C42\u662F\u65E0\u72B6\u6001\u7684\uFF0C\u5373\u6BCF\u6B21\u8BF7\u6C42\u4E4B\u540E\u90FD\u4F1A\u65AD\u5F00\u94FE\u63A5\u3002<br> \u6240\u4EE5\uFF0C\u6BCF\u6B21\u8BF7\u6C42\u65F6\uFF0C\u90FD\u53EF\u4EE5\u643A\u5E26\u4E00\u6BB5\u4FE1\u606F\u53D1\u9001\u5230\u670D\u52A1\u7AEF\uFF0C\u4EE5\u8868\u660E\u5BA2\u6237\u7AEF\u7684\u7528\u6237\u8EAB\u4EFD\u3002\u670D\u52A1\u7AEF\u4E5F\u4E5F\u53EF\u4EE5\u901A\u8FC7 <code>set-cookie</code> \u5411\u5BA2\u6237\u7AEF\u8BBE\u7F6E cookie \u5185\u5BB9\u3002<br> \u7531\u4E8E\u6BCF\u6B21\u8BF7\u6C42\u90FD\u643A\u5E26 cookie \uFF0C\u6240\u4EE5 cookie \u5927\u5C0F\u9650\u5236 4kb \u4EE5\u5185\u3002</p><p><img src="'+n+'" alt=""></p><h2 id="cookie-\u4F5C\u4E3A\u672C\u5730\u5B58\u50A8" tabindex="-1"><a class="header-anchor" href="#cookie-\u4F5C\u4E3A\u672C\u5730\u5B58\u50A8" aria-hidden="true">#</a> cookie \u4F5C\u4E3A\u672C\u5730\u5B58\u50A8</h2><p>\u524D\u4E9B\u5E74\u5927\u5BB6\u8FD8\u5E38\u7528 cookie \u4F5C\u4E3A\u672C\u5730\u5B58\u50A8\uFF0C\u8FD9\u5E76\u4E0D\u5B8C\u5168\u5408\u9002\u3002<br> \u6240\u4EE5\u540E\u6765 html5 \u589E\u52A0\u4E86 <code>localStorage</code> \u548C <code>sessionStorage</code> \u4F5C\u4E3A\u672C\u5730\u5B58\u50A8\u3002</p><h2 id="cookie-\u8DE8\u57DF\u9650\u5236" tabindex="-1"><a class="header-anchor" href="#cookie-\u8DE8\u57DF\u9650\u5236" aria-hidden="true">#</a> cookie \u8DE8\u57DF\u9650\u5236</h2><p>\u6D4F\u89C8\u5668\u5B58\u50A8 cookie \u662F\u6309\u7167\u57DF\u540D\u533A\u5206\u7684\uFF0C\u5728\u6D4F\u89C8\u5668\u65E0\u6CD5\u901A\u8FC7 JS <code>document.cookie</code> \u83B7\u53D6\u5230\u5176\u4ED6\u57DF\u540D\u7684 cookie \u3002</p><p>http \u8BF7\u6C42\u4F20\u9012 cookie \u9ED8\u8BA4\u6709\u8DE8\u57DF\u9650\u5236\u3002\u5982\u679C\u60F3\u8981\u5F00\u542F\uFF0C\u9700\u8981\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u5668\u540C\u65F6\u8BBE\u7F6E\u5141\u8BB8</p><ul><li>\u5BA2\u6237\u7AEF\uFF1A\u4F7F\u7528 fetch \u548C XMLHttpRequest \u6216\u8005 axios \u9700\u8981\u914D\u7F6E <code>withCredentials</code></li><li>\u670D\u52A1\u7AEF\uFF1A\u9700\u8981\u914D\u7F6E header <code>Access-Control-Allow-Credentials</code></li></ul><h2 id="\u6D4F\u89C8\u5668\u7981\u7528\u7B2C\u4E09\u53D1-cookie" tabindex="-1"><a class="header-anchor" href="#\u6D4F\u89C8\u5668\u7981\u7528\u7B2C\u4E09\u53D1-cookie" aria-hidden="true">#</a> \u6D4F\u89C8\u5668\u7981\u7528\u7B2C\u4E09\u53D1 cookie</h2><p>\u73B0\u4EE3\u6D4F\u89C8\u5668\u90FD\u5F00\u59CB\u7981\u7528\u7B2C\u4E09\u65B9 cookie \uFF08\u7B2C\u4E09\u65B9 js \u8BBE\u7F6E cookie\uFF09\uFF0C\u6253\u51FB\u7B2C\u4E09\u65B9\u5E7F\u544A\uFF0C\u4FDD\u62A4\u7528\u6237\u4E2A\u4EBA\u9690\u79C1\u3002</p><p>\u4F8B\u5982\u4E00\u4E2A\u7535\u5546\u7F51\u7AD9 A \u5F15\u7528\u4E86\u6DD8\u5B9D\u5E7F\u544A\u7684 js</p><ul><li>\u4F60\u8BBF\u95EE A \u65F6\uFF0C\u6DD8\u5B9D js \u8BBE\u7F6E cookie \uFF0C\u8BB0\u5F55\u4E0B\u5546\u54C1\u4FE1\u606F</li><li>\u4F60\u518D\u6B21\u8BBF\u95EE\u6DD8\u5B9D\u65F6\uFF0C\u6DD8\u5B9D\u5373\u53EF\u83B7\u53D6\u8FD9\u4E2A cookie \u5185\u5BB9</li><li>\u518D\u548C\u4F60\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF08\u4E5F\u5728 cookie \u91CC\uFF09\u4E00\u8D77\u53D1\u9001\u5230\u670D\u52A1\u7AEF\uFF0C\u8FD9\u6837\u5C31\u77E5\u9053\u4E86\u4F60\u770B\u4E86\u54EA\u4E2A\u5546\u54C1</li></ul><h2 id="cookie-\u548C-session" tabindex="-1"><a class="header-anchor" href="#cookie-\u548C-session" aria-hidden="true">#</a> cookie \u548C session</h2><p>cookie \u7528\u9014\u975E\u5E38\u5E7F\u6CDB\uFF0C\u6700\u5E38\u89C1\u7684\u5C31\u662F\u767B\u5F55\u3002</p><p>\u4F7F\u7528 cookie \u505A\u767B\u5F55\u6821\u9A8C</p><ul><li>\u524D\u7AEF\u8F93\u5165\u7528\u6237\u540D\u5BC6\u7801\uFF0C\u4F20\u7ED9\u540E\u7AEF</li><li>\u540E\u7AEF\u9A8C\u8BC1\u6210\u529F\uFF0C\u8FD4\u56DE\u4FE1\u606F\u65F6 set-cookie</li><li>\u63A5\u4E0B\u6765\u6240\u6709\u63A5\u53E3\u8BBF\u95EE\uFF0C\u90FD\u81EA\u52A8\u5E26\u4E0A cookie \uFF08\u6D4F\u89C8\u5668\u7684\u9ED8\u8BA4\u884C\u4E3A\uFF0C http \u534F\u8BAE\u7684\u89C4\u5B9A\uFF09</li></ul><p>\u4EC0\u4E48\u662F session \uFF1F</p><ul><li>cookie \u53EA\u5B58\u50A8 userId \uFF0C\u4E0D\u53BB\u66B4\u9732\u7528\u6237\u4FE1\u606F</li><li>\u7528\u6237\u4FE1\u606F\u5B58\u50A8\u5728 session \u4E2D \u2014\u2014 session \u5C31\u662F\u670D\u52A1\u7AEF\u7684\u4E00\u4E2A hash \u8868</li></ul><h2 id="token" tabindex="-1"><a class="header-anchor" href="#token" aria-hidden="true">#</a> token</h2><p>token \u548C cookie \u4E00\u6837\uFF0C\u4E5F\u662F\u4E00\u6BB5\u7528\u4E8E\u5BA2\u6237\u7AEF\u8EAB\u4EFD\u9A8C\u8BC1\u7684\u5B57\u7B26\u4E32\uFF0C\u968F\u7740 http \u8BF7\u6C42\u53D1\u9001</p><ul><li>cookie \u662F http \u534F\u8BAE\u89C4\u8303\u7684\uFF0C\u800C token \u662F\u81EA\u5B9A\u4E49\u7684\uFF0C\u53EF\u4EE5\u7528\u4EFB\u4F55\u65B9\u5F0F\u4F20\u8F93\uFF08\u5982 header body query-string \u7B49\uFF09</li><li>token \u9ED8\u8BA4\u4E0D\u4F1A\u5728\u6D4F\u89C8\u5668\u5B58\u50A8</li><li>token \u6CA1\u6709\u8DE8\u57DF\u9650\u5236</li></ul><p>\u6240\u4EE5\uFF0Ctoken \u5F88\u9002\u5408\u505A\u8DE8\u57DF\u6216\u8005\u7B2C\u4E09\u65B9\u7684\u8EAB\u4EFD\u9A8C\u8BC1\u3002</p><h2 id="token-\u548C-jwt" tabindex="-1"><a class="header-anchor" href="#token-\u548C-jwt" aria-hidden="true">#</a> token \u548C JWT</h2><p>JWT === JSON Web Token</p><p>JWT \u7684\u8FC7\u7A0B</p><ul><li>\u524D\u7AEF\u8F93\u5165\u7528\u6237\u540D\u5BC6\u7801\uFF0C\u4F20\u7ED9\u540E\u7AEF</li><li>\u540E\u7AEF\u9A8C\u8BC1\u6210\u529F\uFF0C\u8FD4\u56DE\u4E00\u6BB5 token \u5B57\u7B26\u4E32 - \u5C06\u7528\u6237\u4FE1\u606F\u52A0\u5BC6\u4E4B\u540E\u5F97\u5230\u7684</li><li>\u524D\u7AEF\u83B7\u53D6 token \u4E4B\u540E\uFF0C\u5B58\u50A8\u4E0B\u6765</li><li>\u4EE5\u540E\u8BBF\u95EE\u63A5\u53E3\uFF0C\u90FD\u5728 header \u4E2D\u5E26\u4E0A\u8FD9\u6BB5 token</li></ul><p><img src="'+h+'" alt=""></p><h2 id="\u7B54\u6848" tabindex="-1"><a class="header-anchor" href="#\u7B54\u6848" aria-hidden="true">#</a> \u7B54\u6848</h2><ul><li>cookie\uFF1Ahttp \u89C4\u8303\uFF1B\u6709\u8DE8\u57DF\u9650\u5236\uFF1B\u53EF\u5B58\u50A8\u5728\u672C\u5730\uFF1B\u53EF\u914D\u5408 session \u5B9E\u73B0\u767B\u5F55</li><li>token\uFF1A\u81EA\u5B9A\u4E49\u6807\u51C6\uFF1B\u4E0D\u5728\u672C\u5730\u5B58\u50A8\uFF1B\u65E0\u8DE8\u57DF\u9650\u5236\uFF1B\u53EF\u7528\u4E8E JWT \u767B\u5F55</li></ul><h2 id="\u8FDE\u73AF\u95EE-session-\u548C-jwt-\u6BD4\u8F83-\u4F60\u66F4\u63A8\u8350\u54EA\u4E2A" tabindex="-1"><a class="header-anchor" href="#\u8FDE\u73AF\u95EE-session-\u548C-jwt-\u6BD4\u8F83-\u4F60\u66F4\u63A8\u8350\u54EA\u4E2A" aria-hidden="true">#</a> \u8FDE\u73AF\u95EE\uFF1Asession \u548C JWT \u6BD4\u8F83\uFF0C\u4F60\u66F4\u63A8\u8350\u54EA\u4E2A\uFF1F</h2><p>Session \u4F18\u70B9</p><ul><li>\u539F\u7406\u7B80\u5355\uFF0C\u6613\u4E8E\u5B66\u4E60</li><li>\u7528\u6237\u4FE1\u606F\u5B58\u50A8\u5728\u670D\u52A1\u7AEF\uFF0C\u53EF\u4EE5\u5FEB\u901F\u5C01\u7981\u67D0\u4E2A\u767B\u5F55\u7684\u7528\u6237 \u2014\u2014 \u6709\u8FD9\u65B9\u5F3A\u9700\u6C42\u7684\u4EBA\uFF0C\u4E00\u5B9A\u9009\u62E9 Session</li></ul><p>Session \u7684\u7F3A\u70B9</p><ul><li>\u5360\u7528\u670D\u52A1\u7AEF\u5185\u5B58\uFF0C\u6709\u786C\u4EF6\u6210\u672C</li><li>\u591A\u8FDB\u7A0B\u3001\u591A\u670D\u52A1\u5668\u65F6\uFF0C\u4E0D\u597D\u540C\u6B65 \u2014\u2014 \u4E00\u822C\u4F7F\u7528\u7B2C\u4E09\u65B9 redis \u5B58\u50A8 \uFF0C\u6210\u672C\u9AD8</li><li>\u8DE8\u57DF\u4F20\u9012 cookie \uFF0C\u9700\u8981\u7279\u6B8A\u914D\u7F6E</li></ul><p>JWT \u7684\u4F18\u70B9</p><ul><li>\u4E0D\u5360\u7528\u670D\u52A1\u5668\u5185\u5B58</li><li>\u591A\u8FDB\u7A0B\u3001\u591A\u670D\u52A1\u5668\uFF0C\u4E0D\u53D7\u5F71\u54CD</li><li>\u4E0D\u53D7\u8DE8\u57DF\u9650\u5236</li></ul><p>JWT \u7684\u7F3A\u70B9</p><ul><li>\u65E0\u6CD5\u5FEB\u901F\u5C01\u7981\u767B\u5F55\u7684\u7528\u6237</li></ul><p>\u603B\u7ED3\uFF1A\u5982\u679C\u6CA1\u6709\u201C\u5FEB\u901F\u5C01\u7981\u767B\u5F55\u7528\u6237\u201D\u7684\u9700\u6C42\uFF0C\u5EFA\u8BAE\u4F7F\u7528 JWT \u65B9\u5F0F\u3002</p><h2 id="\u8FDE\u73AF\u95EE-\u5355\u70B9\u767B\u5F55" tabindex="-1"><a class="header-anchor" href="#\u8FDE\u73AF\u95EE-\u5355\u70B9\u767B\u5F55" aria-hidden="true">#</a> \u8FDE\u73AF\u95EE\uFF1A\u5355\u70B9\u767B\u5F55</h2><h3 id="\u57FA\u4E8E-cookie" tabindex="-1"><a class="header-anchor" href="#\u57FA\u4E8E-cookie" aria-hidden="true">#</a> \u57FA\u4E8E cookie</h3><p>\u7B80\u5355\u7684\uFF0C\u5982\u679C\u4E1A\u52A1\u7CFB\u7EDF\u90FD\u5728\u540C\u4E00\u4E3B\u57DF\u540D\u4E0B\uFF0C\u6BD4\u5982 <code>wenku.baidu.com</code> <code>tieba.baidu.com</code> \uFF0C\u5C31\u597D\u529E\u4E86\u3002 \u53EF\u4EE5\u76F4\u63A5\u628A cookie domain \u8BBE\u7F6E\u4E3A\u4E3B\u57DF\u540D <code>baidu.com</code> \uFF0C\u767E\u5EA6\u4E5F\u5C31\u662F\u8FD9\u4E48\u5E72\u7684\u3002</p><h3 id="sso" tabindex="-1"><a class="header-anchor" href="#sso" aria-hidden="true">#</a> SSO</h3><p>\u590D\u6742\u4E00\u70B9\u7684\uFF0C\u6EF4\u6EF4\u8FD9\u4E48\u6F6E\u7684\u516C\u53F8\uFF0C\u540C\u65F6\u62E5\u6709 <code>didichuxing.com</code> <code>xiaojukeji.com</code> <code>didiglobal.com</code> \u7B49\u57DF\u540D\uFF0C\u79CD cookie \u662F\u5B8C\u5168\u7ED5\u4E0D\u5F00\u7684\u3002\u9700\u8981\u4F7F\u7528 SSO \u6280\u672F\u65B9\u6848</p><p><img src="'+k+'" alt=""></p><h3 id="oauth2" tabindex="-1"><a class="header-anchor" href="#oauth2" aria-hidden="true">#</a> OAuth2</h3>',50),_=o("\u4E0A\u8FF0 SSO \u662F oauth \u7684\u5B9E\u9645\u6848\u4F8B\uFF0C\u5176\u4ED6\u5E38\u89C1\u7684\u8FD8\u6709\u5FAE\u4FE1\u767B\u5F55\u3001github \u767B\u5F55\u7B49\u3002\u5373\uFF0C\u5F53\u8BBE\u8BA1\u5230\u7B2C\u4E09\u65B9\u7528\u6237\u767B\u5F55\u6821\u9A8C\u65F6\uFF0C\u90FD\u4F1A\u4F7F\u7528 OAuth2.0 \u6807\u51C6\u3002 \u6D41\u7A0B\u53C2\u8003 "),b={href:"https://tools.ietf.org/html/rfc6749",target:"_blank",rel:"noopener noreferrer"},f=o("RFC 6749");function m(x,g){const i=c("ExternalLinkIcon");return t(),d(r,null,[u,e("p",null,[_,e("a",b,[f,s(i)])])],64)}var T=a(p,[["render",m],["__file","03-token\u548Ccookie\u533A\u522B.html.vue"]]);export{T as default};
